<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Jan Alexandersson</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="https://cdn.plot.ly/plotly-2.0.0.min.js"></script>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
 
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
p {
  font-size: 18px;
  color: #515151;
  font-family:calendas-plus
}

@media screen and (min-width: 750px) {
    p{
      text-align: justify;
      font-size: 20px;
    }
}

#user-inputs>div {
  display: flex;
  flex-direction: column;
  margin-bottom: 0.75rem;
}

#user-inputs label {
  margin-bottom: 0.25rem;
}

#user-inputs input {
  width: 15rem;
}

h1 {
  font-size: 34px;
  color: #303030;
}
h1.title {
  font-size: 38px;
}
@media screen and (max-width: 750px) {
    h1{
      font-size: 28px;
    }
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<style type="text/css">
.block {
  display: block;
  width: 100%;
  border: none;
  background-color: #cccccc;
  color: white;
  padding: 14px 28px;
  font-size: 16px;
  cursor: pointer;
  text-align: center;
}

.block:hover {
  background-color: #ddd;
  color: black;
}
.folders{
  height: 150px;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: space-between;
  align-content: space-around;
  text-align: center;
  background-color: #efefef;
}

.folder {
  flex-basis: 30%;
  flex-shrink: 0;
  padding: 10px 0;
  background-color: #1abc9c;
}

img.profile-pic {
  max-width:100%;
  max-height:100%;
  padding-top: 10px;
  padding-bottom: 20px;
}

.profile-div {
  margin-left: 10px;
  float:right; 
  width: 30%; 
  background-color: #afeeee; 
  text-align: center;
}

@media screen and (max-width: 900px) {
    .profile-div{
      display: inline-block;
      width: 40%;
    }
}

@media screen and (max-width: 750px) {
    .profile-div{
      display: inline-block;
      width: 45%;
    }
}

@media screen and (max-width: 500px) {
    .profile-div{
      display: inline-block;
      width: 48%;
    }
}

input[type=text], select {
  width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
  width: 60%; 
  display: block; 
  margin : 0 auto;
  background-color: #eae4ff;
}

td, th {
  padding: 0.5rem;
}

.center {
  margin-left: auto;
  margin-right: auto;
}
</style>

<!-- code folding -->




</head>

<body>

<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Jan Alexandersson</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="saving.html">Saving</a>
</li>
<!--
<li>
  <a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
          Choose a Tab <span class="caret"></span>
  </a>
  <ul class="dropdown-menu">
          <li class=""><a href="#first-tab" data-toggle="tab" aria-expanded="false" aria-controls="first-tab">First Tab</a></li>
          <li class=""><a href="#second-tab" data-toggle="tab" aria-expanded="false" aria-controls="second-tab">Second Tab</a></li>
  </ul>
</li>
-->
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<!--
<h1>It's not about timing the market, it's about time in the market</h1>

<h1>Historical developement of the market</h1>

<h1>Why saving monthly is a good idea</h1>

<h1>Starting early is key</h1>

<h1>Starting early is key</h1>
-->

<script src="https://cdn.plot.ly/plotly-2.0.0.min.js"></script>

<h1>Investing Calculator</h1>
<div id="user-inputs">
<table class="center">
  <thead>
    <tr>
      <th></th>
      <th class="text-center">
        <font color="#808080" size="4px"> John </font>
      </th>
      <th class="text-center">
        <font color="#808080" size="4px"> Lucy </font>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>
        <font color="#808080" size="3px"> Initial Investment: </font>
      <td> <input type="text" value="10000" id="initial-investment_1" style="width: 60%; display: block; margin : 0 auto;"></td>
      <td><input type="text" value="50000" id="initial-investment_2" style="width: 60%; display: block; margin : 0 auto;"></td>
    </tr>
    <tr>
      <th>
        <font color="#808080" size="3px"> Monthly Contribution: </font>
      <td> <input type="text" value="3000" id="monthly-contribution_1" style="width: 60%; display: block; margin : 0 auto;"></td>
      <td><input type="text" value="2300" id="monthly-contribution_2" style="width: 60%; display: block; margin : 0 auto;"></td>
    </tr>
    <tr>
      <th>
        <font color="#808080" size="3px"> Number of Years: </font>
      <td> <input type="text" value="30" id="year-count_1" style="width: 60%; display: block; margin : 0 auto;"></td>
      <td><input type="text" value="25" id="year-count_2" style="width: 60%; display: block; margin : 0 auto;"></td>
    </tr>
    <tr>
      <th>
        <font color="#808080" size="3px"> Annual Interest Rate (%): </font>
      </th>
      <td colspan="2"><input style="width: 80%; display: block; margin : 0 auto;" type="text" value="4" id="annual-interest-rate"></td>
    </tr>
  </tbody>
</table>
</div>


  <div id='invest' style = "clear:both;
  left: 0px;
  right: 0px;
  top: 0px;"></div>

  <script>
    function formatMoney(value) {
      return value.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }


    const inputBoxes = Array.from(document.getElementsByTagName("input"));
    var annualInterestRateInput = document.getElementById("annual-interest-rate");
    var initialInvestmentInput_1 = document.getElementById("initial-investment_1");
    var monthlyContributionInput_1 = document.getElementById("monthly-contribution_1");
    var numberOfYearsInput_1 = document.getElementById("year-count_1");
    var initialInvestmentInput_2 = document.getElementById("initial-investment_2");
    var monthlyContributionInput_2 = document.getElementById("monthly-contribution_2");
    var numberOfYearsInput_2 = document.getElementById("year-count_2");
    var updatePlot = function(event) {
      var rowcount_1 = Number(numberOfYearsInput_1.value);
      var yearDifference = 5;
      var initialInvestment_1 = Number(initialInvestmentInput_1.value);
      var monthlyContribution_1 = Number(monthlyContributionInput_1.value);
      var rowcount_2 = Number(numberOfYearsInput_2.value);
      var initialInvestment_2 = Number(initialInvestmentInput_2.value);
      var monthlyContribution_2 = Number(monthlyContributionInput_2.value);
      var annualInterestRate = Number(annualInterestRateInput.value) / 100.0;
      var interestFactor = 1 + annualInterestRate / 12.0;


      function computeTotal(rowcount, initialInvestment, monthlyContribution, interestFactor) {
      	var balance = [];
        var x = [];
        var totalDeposit = [];
        var monthCount = 0;
        var yearReturn = [];
      	for (var row = 1; row <= rowcount; row += 1) {
          x[row - 1] = row;
          monthCount = 12 * row;
          totalDeposit[row - 1] = initialInvestment + 12.0 * monthlyContribution * row;
          balance[row - 1] = initialInvestment * Math.pow(interestFactor, monthCount + 1) + monthlyContribution * (
            (Math.pow(interestFactor, monthCount + 1) - 1) /
            (interestFactor - 1) - 1);
          yearReturn[row - 1] = balance[row - 1] - totalDeposit[row - 1];
        }
        return [x, yearReturn, totalDeposit];
      }
      
      
			var values_1 = computeTotal(rowcount_1, initialInvestment_1, monthlyContribution_1, interestFactor);
      var x_1 = values_1[0];
      var yearReturn_1 = values_1[1];
      var totalDeposit_1 = values_1[2];
			
      var values_2 = computeTotal(rowcount_2, initialInvestment_2, monthlyContribution_2, interestFactor);
      var x_2 = values_2[0];
      var yearReturn_2 = values_2[1];
      var totalDeposit_2 = values_2[2];
			
      var yearDifference = Math.abs(totalDeposit_1.length - totalDeposit_2.length);
      var x = Math.max(x_1, x_2);
      
      var zeros = [];
      for (var i = 0; i < yearDifference; i++) zeros[i] = 0;
			
      if (totalDeposit_1.length < totalDeposit_2.length) {
      		var totalDeposit_1 = zeros.concat(totalDeposit_1)
     			var yearReturn_1 = zeros.concat(yearReturn_1)
      }
      else if (totalDeposit_1.length > totalDeposit_2.length) {
   		   	var totalDeposit_2 = zeros.concat(totalDeposit_2)
  	   		var yearReturn_2 = zeros.concat(yearReturn_2)
      }



      var text = [];
      var balanceDifference = [];
      for (var i = 0; i < totalDeposit_1.length; i += 1) {
        balanceDifference[i] = totalDeposit_1[i] + yearReturn_1[i] - totalDeposit_2[i] - yearReturn_2[i];
        text[i] = `Total Deposit John: ${formatMoney(totalDeposit_1[i])}<br>Total Return John: ${formatMoney(yearReturn_1[i])}<br>Total Deposit Lucy: ${formatMoney(totalDeposit_2[i])}<br>Total Return Lucy: ${formatMoney(yearReturn_2[i])}<br><br>Difference in Balance: ${formatMoney(balanceDifference[i])}`;
      }


      var trace1 = {
        x: x,
        y: totalDeposit_1,
        hovertext: text,
        hoverinfo: 'text',
        name: 'Total Deposit John',
        type: 'bar',
        offset: 0,
        width: 0.4,
        marker: {
          color: 'rgb(173, 216, 230)',
          line: {
            color: 'rgb(173, 216, 230)',
            width: 0.1
          }
        }
      };

      var trace2 = {
        x: x,
        y: yearReturn_1,
        hovertext: text,
        hoverinfo: 'text',
        name: 'Total Return John',
        type: 'bar',
        hoverinfo: "text",
        offset: 0,
        width: 0.4,
        marker: {
          color: 'rgb(230, 187, 173)',
          line: {
            color: 'rgb(100, 50, 6)',
            width: 0.2
          }
        }
      };


      var trace3 = {
        x: x,
        y: totalDeposit_2,
        hovertext: text,
        hoverinfo: 'text',
        name: 'Total Deposit Lucy',
        type: 'bar',
        hoverinfo: "text",
        base: 0,
        offset: -0.4,
        width: 0.4,
        marker: {
          color: 'rgb(216, 230, 173)',
          line: {
            color: 'rgb(216, 230, 200)',
            width: 0.1
          }
        }
      };


      var trace4 = {
        x: x,
        y: yearReturn_2,
        hovertext: text,
        hoverinfo: 'text',
        name: 'Total Return Lucy',
        type: 'bar',
        hoverinfo: "text",
        base: totalDeposit_2,
        width: 0.4,
        offset: -0.4,
        marker: {
          color: 'rgb(187, 173, 230)',
          line: {
            color: 'rgb(100, 50, 6)',
            width: 0.2
          }
        }
      };


      var data = [trace1, trace2, trace3, trace4];

      var layout = {
        title: 'Total Savings',
        barmode: 'stack',
        showlegend: true,
        displayModeBar: false,
        hoverlabel: {
          bgcolor: 'rgb(173, 216, 230)',
          font: {
            color: 'black'
          }
        },
        xaxis: {
          zeroline: false,
          title: 'Year'
        },
        yaxis: {
          zeroline: false,
          hoverformat: '.3r',
          title: 'Balance'
        }
      };

      Plotly.newPlot('invest', data, layout, {
        displayModeBar: false
      });
    };


    window.onload = updatePlot
    inputBoxes.forEach(input => input.oninput = updatePlot)

  </script>


<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>